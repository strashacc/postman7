{
  "info": {
    "_postman_id": "679a717d-aa69-4998-95d3-372728f9119b",
    "name": "Weather API Test Suite",
    "description": "Comprehensive test suite for Open-Meteo Weather API including positive, negative, and edge/boundary test cases",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Positive Test Cases",
      "item": [
        {
          "name": "Valid Weather Requests",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "3c46f031-f362-4c3b-9351-96ec061d7e8a",
                "exec": [
                  "// Log the test case being executed",
                  "console.log('=================================');",
                  "console.log('Executing: Valid Weather Requests');",
                  "console.log('Test Case: ' + (pm.iterationData.get('testCase') || 'Single Request'));",
                  "console.log('Description: ' + (pm.iterationData.get('description') || 'Testing valid weather API request'));",
                  "console.log('Latitudes: ' + (pm.variables.get('latitude') || 'Not set'));",
                  "console.log('Longitudes: ' + (pm.variables.get('longitude') || 'Not set'));",
                  "console.log(\"Wind Speed Unit: \" + (pm.variables.get('wind_speed_unit') || 'km/h'));",
                  "console.log(\"Precipitation Unit: \" + (pm.variables.get('precipitation_unit') || 'Millimeter'));",
                  "console.log(\"Expected Current: \" + (pm.variables.get('current') || 'None'));",
                  "console.log(\"Expected Hourly: \" + (pm.variables.get('hourly') || 'None'));",
                  "console.log('=================================');"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "838bfa7c-ee59-4b78-bb70-1a229dc06f26",
                "exec": [
                  "// Test 1: Validate status code is 200",
                  "pm.test('Status code is 200 OK', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "// Test 2: Validate response time is acceptable (under 2000ms)",
                  "pm.test('Response time is acceptable', function () {",
                  "    pm.expect(pm.response.responseTime).to.be.below(2000);",
                  "});",
                  "",
                  "// Test 3: Validate response is JSON",
                  "pm.test('Response is valid JSON', function () {",
                  "    pm.response.to.be.json;",
                  "});",
                  "",
                  "// Test 4: Validate Expected fields",
                  "pm.test('Response contains expected fields', function () {",
                  "    const res = pm.response.json();",
                  "    const expectedCurrent = pm.variables.get('current') || [];",
                  "    const expectedHourly = pm.variables.get('hourly') || [];",
                  "    if (res.length === undefined) {",
                  "        expectedCurrent.forEach((field) => {",
                  "            pm.response.to.have.jsonBody(`current.${field}`);",
                  "        });",
                  "        expectedHourly.forEach((field) => {",
                  "            pm.response.to.have.jsonBody(`hourly.${field}`);",
                  "        });",
                  "    } else if (res.length > 0) {",
                  "        res.forEach((item) => {",
                  "            expectedCurrent.forEach((field) => {",
                  "                pm.expect(item.current).to.have.property(field);",
                  "            });",
                  "            expectedHourly.forEach((field) => {",
                  "                pm.expect(item.hourly).to.have.property(field);",
                  "            });",
                  "        });",
                  "    }",
                  "});",
                  "",
                  "// Log test results",
                  "console.log('âœ“ All validation tests completed for: ' + (pm.iterationData.get('testCase') || 'Single Request'));",
                  "",
                  "// Log the full response",
                  "console.log(pm.response.text());"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "id": "45dac3f1-3bfc-42bd-b077-48937b8f12c7",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "https://api.open-meteo.com/v1/forecast?latitude={{latitude}}&longitude={{longitude}}&current={{current}}&hourly={{hourly}}",
              "protocol": "https",
              "host": [
                "api",
                "open-meteo",
                "com"
              ],
              "path": [
                "v1",
                "forecast"
              ],
              "query": [
                {
                  "key": "latitude",
                  "value": "{{latitude}}",
                  "uuid": "b241ab3c-196e-4b46-bbe0-c4254ede2b6b"
                },
                {
                  "key": "longitude",
                  "value": "{{longitude}}",
                  "uuid": "730af11d-5699-4395-96d2-0da52a3c13b3"
                },
                {
                  "key": "current",
                  "value": "{{current}}",
                  "uuid": "ba51823c-8916-4ad0-9214-f604fd6513fd"
                },
                {
                  "key": "hourly",
                  "value": "{{hourly}}",
                  "uuid": "6c40f39e-b187-4283-85ab-fcfa79690387"
                }
              ]
            },
            "description": "Tests valid weather API requests with proper latitude and longitude coordinates. Validates response structure, data types, and value ranges."
          },
          "response": []
        }
      ],
      "id": "5e8dc4f8-65cc-44fb-97ee-f60f3f29e19a"
    },
    {
      "name": "Negative Test Cases",
      "item": [
        {
          "name": "Invalid Parameter Tests",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "6ba4e123-78db-4eeb-8485-4a0ae972bd63",
                "exec": [
                  "// Log the test case being executed",
                  "console.log('=================================');",
                  "console.log('Executing: Invalid Weather Requests');",
                  "console.log('Test Case: ' + (pm.iterationData.get('testCase') || 'Single Request'));",
                  "console.log('Description: ' + (pm.iterationData.get('description') || 'Testing Invalid weather API request'));",
                  "console.log('Latitudes: ' + (pm.variables.get('latitude') || 'Not set'));",
                  "console.log('Longitudes: ' + (pm.variables.get('longitude') || 'Not set'));",
                  "console.log(\"Wind Speed Unit: \" + (pm.variables.get('wind_speed_unit') || 'km/h'));",
                  "console.log(\"Precipitation Unit: \" + (pm.variables.get('precipitation_unit') || 'Millimeter'));",
                  "console.log(\"Expected Current: \" + (pm.variables.get('current') || 'None'));",
                  "console.log(\"Expected Hourly: \" + (pm.variables.get('hourly') || 'None'));",
                  "console.log('=================================');"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "156f27b1-f135-4d5a-af13-3b2356c9eb68",
                "exec": [
                  "// Test 1: Validate error status code (400 or 422)",
                  "pm.test('Status code indicates client error', function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([pm.variables.get('expectedStatus')]);",
                  "});",
                  "",
                  "// Test 2: Response is JSON",
                  "pm.test('Response is correct format', function () {",
                  "    if (pm.variables.get('expectedFormat') == 'JSON')",
                  "        pm.response.to.be.json;",
                  "    else if (pm.variables.get('expectedFormat') == 'Forbidden')",
                  "        pm.response.to.be.forbidden;",
                  "});",
                  "",
                  "// Test 3: Response contains error information",
                  "pm.test('Response contains error information', function () {",
                  "    if (pm.variables.get('expectedFormat') == 'JSON'){",
                  "        const jsonData = pm.response.json();",
                  "        ",
                  "        // Check for common error fields",
                  "        const hasErrorField = jsonData.error || jsonData.reason || jsonData.message;",
                  "        pm.expect(hasErrorField).to.exist;",
                  "    }",
                  "});",
                  "",
                  "// Test 4: Error message is descriptive",
                  "pm.test('Error message is present and descriptive', function () {",
                  "    if (pm.variables.get('expectedFormat') == 'JSON') {",
                  "        const jsonData = pm.response.json();",
                  "        const errorMsg = jsonData.reason || jsonData.error || jsonData.message || '';",
                  "        ",
                  "        pm.expect(errorMsg).to.be.a('string');",
                  "        pm.expect(errorMsg.length).to.be.above(0);",
                  "    }",
                  "});",
                  "",
                  "",
                  "console.log('Negative test validation completed for: ' + (pm.iterationData.get('testCase') || 'Single Request'));",
                  "",
                  "// Log the full response",
                  "console.log(pm.response.text());"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "id": "757def49-6b19-44f0-9b8e-e16cfe15ce62",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "{{accept}}",
                "type": "text",
                "uuid": "e02c8281-655c-4405-9cc5-1ac1f04b3083"
              }
            ],
            "url": {
              "raw": "https://api.open-meteo.com/v1/forecast?latitude={{latitude}}&longitude={{longitude}}&current={{current}}&hourly={{hourly}}&wind_speed_unit={{wind_speed_unit}}&precipitation_unit={{precipitation_unit}}",
              "protocol": "https",
              "host": [
                "api",
                "open-meteo",
                "com"
              ],
              "path": [
                "v1",
                "forecast"
              ],
              "query": [
                {
                  "key": "latitude",
                  "value": "{{latitude}}",
                  "uuid": "96914c4c-1952-4cb8-b99a-d74f46eb984d"
                },
                {
                  "key": "longitude",
                  "value": "{{longitude}}",
                  "uuid": "91b6e044-646e-478f-8943-413bbd8bcf6e"
                },
                {
                  "key": "current",
                  "value": "{{current}}",
                  "uuid": "0a451c05-370d-486d-a0d9-6438bd49c41e"
                },
                {
                  "key": "hourly",
                  "value": "{{hourly}}",
                  "uuid": "e2e34784-9e02-4464-9871-cffeb1f21f8f"
                },
                {
                  "key": "wind_speed_unit",
                  "value": "{{wind_speed_unit}}",
                  "uuid": "b2349157-d199-460c-861c-16114c3bd533"
                },
                {
                  "key": "precipitation_unit",
                  "value": "{{precipitation_unit}}",
                  "uuid": "b981abfd-cf95-47fe-9c95-897ad8f4fe2d"
                }
              ]
            },
            "description": "Tests invalid parameter scenarios including missing parameters, invalid data types, and out-of-range values."
          },
          "response": []
        },
        {
          "name": "Unsupported POST Method",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "45f0abb3-41e6-4b82-8023-cb98347c0145",
                "exec": [
                  "// Test 1: Validate 405 Method Not Allowed status",
                  "pm.test('Status code is 405 Method Not Allowed', function () {",
                  "    pm.response.to.have.status(415);",
                  "});",
                  "",
                  "// Test 2: Check for Allow header",
                  "pm.test('Response includes Allow header or error message', function () {",
                  "    const hasAllowHeader = pm.response.headers.has('Allow');",
                  "    const hasErrorBody = pm.response.text().length > 0;",
                  "    ",
                  "    pm.expect(hasAllowHeader || hasErrorBody).to.be.true;",
                  "});",
                  "",
                  "console.log('POST method correctly rejected with 405 status');"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "96ef5701-cbf5-468e-9b53-ec449761a768",
                "exec": [
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "id": "6172daf3-37a8-4468-85b5-32b9a301ab7d",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Accept",
                "value": "{{accept}}",
                "type": "text",
                "uuid": "945efdf9-bfdd-4f5f-b669-6f7f9d4b2203"
              }
            ],
            "url": {
              "raw": "https://api.open-meteo.com/v1/forecast",
              "protocol": "https",
              "host": [
                "api",
                "open-meteo",
                "com"
              ],
              "path": [
                "v1",
                "forecast"
              ]
            },
            "description": "Tests that POST method is not supported on the weather API endpoint."
          },
          "response": []
        },
        {
          "name": "Unsupported PUT Method",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "7ecdaea9-2f0d-474f-92f8-5e01f5a50a1b",
                "exec": [
                  "// Test 1: Validate 405 Method Not Allowed status",
                  "pm.test('Status code is 405 Method Not Allowed', function () {",
                  "    pm.response.to.have.status(405);",
                  "});",
                  "",
                  "// Test 2: Check for Allow header",
                  "pm.test('Response includes Allow header or error message', function () {",
                  "    const hasAllowHeader = pm.response.headers.has('Allow');",
                  "    const hasErrorBody = pm.response.text().length > 0;",
                  "    ",
                  "    pm.expect(hasAllowHeader || hasErrorBody).to.be.true;",
                  "});",
                  "",
                  "",
                  "console.log('PUT method correctly rejected with 405 status');"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "31f38630-3bcb-43fb-b223-fabe693d6c69",
                "exec": [
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "id": "475172b5-1c00-414c-af8c-c7ec601b89d7",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Accept",
                "value": "{{accept}}",
                "type": "text",
                "uuid": "31a9450d-f110-4d08-a07f-73caea80957a"
              }
            ],
            "url": {
              "raw": "https://api.open-meteo.com/v1/forecast",
              "protocol": "https",
              "host": [
                "api",
                "open-meteo",
                "com"
              ],
              "path": [
                "v1",
                "forecast"
              ]
            },
            "description": "Tests that PUT method is not supported on the weather API endpoint."
          },
          "response": []
        },
        {
          "name": "Unsupported DELETE Method",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "72d5fa66-bf20-44a5-b41b-54081c4b413d",
                "exec": [
                  "// Test 1: Validate 405 Method Not Allowed status",
                  "pm.test('Status code is 405 Method Not Allowed', function () {",
                  "    pm.response.to.have.status(405);",
                  "});",
                  "",
                  "// Test 2: Check for Allow header",
                  "pm.test('Response includes Allow header or error message', function () {",
                  "    const hasAllowHeader = pm.response.headers.has('Allow');",
                  "    const hasErrorBody = pm.response.text().length > 0;",
                  "    ",
                  "    pm.expect(hasAllowHeader || hasErrorBody).to.be.true;",
                  "});",
                  "",
                  "console.log('DELETE method correctly rejected with 405 status');"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "8a17e243-bde3-4f20-8920-456b6d0698e3",
                "exec": [
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "id": "e269486f-bf16-4fb2-8c6b-3c596b98900b",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Accept",
                "value": "{{accept}}",
                "type": "text",
                "uuid": "27b51c61-8c79-42f5-8ef0-8e54f3c33ec5"
              }
            ],
            "url": {
              "raw": "https://api.open-meteo.com/v1/forecast",
              "protocol": "https",
              "host": [
                "api",
                "open-meteo",
                "com"
              ],
              "path": [
                "v1",
                "forecast"
              ]
            },
            "description": "Tests that DELETE method is not supported on the weather API endpoint."
          },
          "response": []
        },
        {
          "name": "Wrong Endpoint",
          "id": "1efc6888-6081-460b-8150-08e9bf576d72",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "https://api.open-meteo.com/v1/forcast",
              "protocol": "https",
              "host": [
                "api",
                "open-meteo",
                "com"
              ],
              "path": [
                "v1",
                "forcast"
              ]
            }
          },
          "response": []
        }
      ],
      "id": "d3bfce5c-66f9-426f-aa42-a3af803316ec"
    },
    {
      "name": "Edge & Boundary Cases",
      "item": [
        {
          "name": "Boundary Value Tests",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "a9fa0671-4b74-42c0-a7bf-005000c45abe",
                "exec": [
                  "// Log the test case being executed",
                  "console.log('=================================');",
                  "console.log('Executing: Boundary Value Tests');",
                  "console.log('Test Case: ' + (pm.iterationData.get('testCase') || 'Single Request'));",
                  "console.log('Description: ' + (pm.iterationData.get('description') || 'Testing boundary values'));",
                  "console.log('Latitude: ' + (pm.variables.get('latitude') || 'Not set'));",
                  "console.log('Longitude: ' + (pm.variables.get('longitude') || 'Not set'));",
                  "console.log('Expected Result: ' + (pm.iterationData.get('expectedResult') || 'Unknown'));",
                  "console.log('=================================');"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "3e029f10-1c8b-47fd-9711-284eefbb7108",
                "exec": [
                  "// Test 1: Validate error status code (400 or 422)",
                  "pm.test('Status code indicates client error', function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([pm.variables.get('expectedStatus')]);",
                  "});",
                  "",
                  "// Test 2: Response is JSON",
                  "pm.test('Response is correct format', function () {",
                  "    if (pm.variables.get('expectedFormat') == 'JSON')",
                  "        pm.response.to.be.json;",
                  "    else if (pm.variables.get('expectedFormat') == 'Forbidden')",
                  "        pm.response.to.be.forbidden;",
                  "});",
                  "",
                  "// Test 3: Response contains error information",
                  "pm.test('Response contains error information', function () {",
                  "    if (pm.variables.get('expectedFormat') == 'JSON'){",
                  "        const jsonData = pm.response.json();",
                  "        ",
                  "        // Check for common error fields",
                  "        const hasErrorField = jsonData.error || jsonData.reason || jsonData.message;",
                  "        pm.expect(hasErrorField).to.exist;",
                  "    }",
                  "});",
                  "",
                  "// Test 4: Error message is descriptive",
                  "pm.test('Error message is present and descriptive', function () {",
                  "    if (pm.variables.get('expectedFormat') == 'JSON') {",
                  "        const jsonData = pm.response.json();",
                  "        const errorMsg = jsonData.reason || jsonData.error || jsonData.message || '';",
                  "        ",
                  "        pm.expect(errorMsg).to.be.a('string');",
                  "        pm.expect(errorMsg.length).to.be.above(0);",
                  "    }",
                  "});",
                  "",
                  "",
                  "console.log('Negative test validation completed for: ' + (pm.iterationData.get('testCase') || 'Single Request'));",
                  "",
                  "// Log the full response",
                  "console.log(pm.response.text());"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "id": "e46b68a9-eb1e-422f-b899-30742ca22964",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "https://api.open-meteo.com/v1/forecast?latitude={{latitude}}&longitude={{longitude}}&current={{current}}&hourly={{hourly}}&wind_speed_unit={{wind_speed_unit}}&precipitation_unit={{precipitation_unit}}",
              "protocol": "https",
              "host": [
                "api",
                "open-meteo",
                "com"
              ],
              "path": [
                "v1",
                "forecast"
              ],
              "query": [
                {
                  "key": "latitude",
                  "value": "{{latitude}}",
                  "uuid": "f678ae70-7c58-4f23-bdc0-8d9e58f8ea7d"
                },
                {
                  "key": "longitude",
                  "value": "{{longitude}}",
                  "uuid": "c0a37987-fe3c-408f-8f52-e0fe7c12c62c"
                },
                {
                  "key": "current",
                  "value": "{{current}}"
                },
                {
                  "key": "hourly",
                  "value": "{{hourly}}"
                },
                {
                  "key": "wind_speed_unit",
                  "value": "{{wind_speed_unit}}"
                },
                {
                  "key": "precipitation_unit",
                  "value": "{{precipitation_unit}}"
                }
              ]
            },
            "description": "Tests boundary and edge cases including extreme coordinate values, precision limits, and special values like zero."
          },
          "response": []
        }
      ],
      "id": "a11668c2-c04e-4ae5-b715-df418e652de8"
    }
  ]
}